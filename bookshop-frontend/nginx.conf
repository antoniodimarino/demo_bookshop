server {
  # Ascolta sulla porta 8080, come richiesto da OpenShift
  listen 8080;
  server_name localhost;

  # Directory principale dei file statici
  root /usr/share/nginx/html;
  index index.html;

  location / {
    # Prova a servire il file richiesto, poi una directory,
    # se non trova nulla, reindirizza a /index.html (per React Router)
    try_files $uri $uri/ /index.html;
  }

  # Disabilita i log degli accessi non trovati (favicon, etc.)
  location = /favicon.ico { access_log off; log_not_found off; }
  location = /robots.txt  { access_log off; log_not_found off; }

  # Gestione degli errori
  error_page 500 502 503 504 /50x.html;
  location = /50x.html {
    root /usr/share/nginx/html;
  }
}